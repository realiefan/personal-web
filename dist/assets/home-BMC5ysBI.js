import"./modulepreload-polyfill-9p4a8sJU.js";document.getElementById("themeButton").addEventListener("click",function(){window.location.href="https://bard.google.com/"});async function u(){try{const t=await new Promise((l,o)=>{const s=localStorage.getItem("linkUsageData");s?l(JSON.parse(s)):o(new Error("No link usage data found in local storage.")),console.log(`User clicked on link: ${link}`)});Object.keys(t).sort((l,o)=>t[o].count-t[l].count).slice(0,5).forEach(l=>{const o=document.getElementById(l);o&&o.addEventListener("click",()=>m(l))})}catch(t){console.error(t.message)}}function p(t){const e=document.createElement("link");e.href=t,e.rel="prefetch",document.head.appendChild(e),console.log(`User clicked on link: ${t}`)}function m(t){console.log(`User clicked on link: ${t}`),p(t)}u();let a;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),a=t,document.getElementById("installButton").style.display="block"});document.getElementById("installButton").addEventListener("click",()=>{a.prompt(),a.userChoice.then(t=>{t.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a=null,document.getElementById("installButton").style.display="none"})});function h(){var t=document.getElementById("searchEngineDropdown").value,e=document.getElementById("googleSearch").value;t==="google"?window.location.href="https://www.google.com/search?q="+encodeURIComponent(e):t==="duckduckgo"?window.location.href="https://duckduckgo.com/?q="+encodeURIComponent(e):t==="reddit"?window.location.href="https://www.reddit.com/search?q="+encodeURIComponent(e):t==="twitter"?window.location.href="https://twitter.com/search?q="+encodeURIComponent(e):t==="youtube"?window.location.href="https://www.youtube.com/results?search_query="+encodeURIComponent(e):t==="nostr"&&(window.location.href="https://nostr.band/?q="+encodeURIComponent(e))}document.getElementById("googleSearch").addEventListener("keyup",function(t){t.key==="Enter"&&h()});const r={name:"Nostrich",imageBackground:!1,openInNewTab:!1,bentoLayout:"bento",firstButtonsContainer:[{id:"2",name:"Gmail",icon:"database-zap",link:"/assets/pages/backup/backup.html"},{id:"5",name:"Wallet",icon:"zap",link:"/assets/pages/wallet/wallet.html"},{id:"1",name:"Calendar",icon:"calendar-check-2",link:"/offline"},{id:"3",name:"Setting",icon:"settings",link:"/assets/pages/control/control.html"}],secondButtonsContainer:[{id:"6",name:"Example",icon:"example-icon",link:"/assets/pages/example/example.html"}]},k=()=>{let t=`
    <div class="buttonsContainer" id="buttons_1"></div>
  `,e=`
    <div class="listsContainer" id="lists_1"></div>
  `;const n="beforeend";switch(r.bentoLayout){case"bento":linksBlockLeft.insertAdjacentHTML(n,t),linksBlock.classList.remove("reduceGap"),linksBlock.classList.remove("removeGap");break;case"lists":linksBlockLeft.insertAdjacentHTML(n,e),linksBlock.classList.add("reduceGap");break;case"buttons":linksBlockLeft.insertAdjacentHTML(n,t),linksBlock.classList.add("removeGap");break}};k();const c=()=>{for(const t of r.firstButtonsContainer){let e=`
        <a
          href="${t.link}"
          target=""
          class="card button button__${t.id}"
        >
          <i class="buttonIcon" data-lucide="${t.icon}"></i>
        </a>
    `;buttons_1.insertAdjacentHTML("beforeend",e)}},g=()=>{for(const t of r.secondButtonsContainer){let e=`
        <a
          href="${t.link}"
          target=""
          class="card button button__${t.id}"
        >
          <i class="buttonIcon" data-lucide="${t.icon}"></i>
        </a>
    `;buttons_2.insertAdjacentHTML("beforeend",e)}},f=()=>{switch(r.bentoLayout){case"bento":c();break;case"buttons":c(),g();break}};f();document.addEventListener("DOMContentLoaded",()=>{B()});function b(t){const e=document.createElement("div");e.className="link-container";const n=document.createElement("button");return n.textContent=t.title,n.className="mainButton",n.addEventListener("click",()=>{d(t.url,t.title),window.open(t.url,"_self")}),e.appendChild(n),w(t.url).then(i=>new Promise(l=>{const o=document.createElement("img");o.src=i,o.alt=`${t.title} Icon`,o.className="link-icon",o.addEventListener("click",s=>{s.preventDefault(),d(t.url,t.title),window.open(t.url,"_self")}),e.insertBefore(o,n),l()})).catch(i=>{console.error("Error fetching icon:",i)}),e}function w(t){const n=`https://icon.horse/icon/${t.replace(/^https?:\/\//,"")}`;return Promise.resolve(n)}function d(t,e){const n=y(),i=n[t]||{count:0,title:e,lastAccessTime:null,performance:null};i.count+=1,i.lastAccessTime=new Date().toISOString(),n[t]=i,L(n)}function y(){return JSON.parse(localStorage.getItem("linkUsageData"))||{}}function L(t){localStorage.setItem("linkUsageData",JSON.stringify(t))}function B(){const t=document.getElementById("linksContainer");let e=v();e.length===0&&(e=C()),E(e),e.forEach(n=>{const i=b(n);t.appendChild(i)})}function v(){return JSON.parse(localStorage.getItem("links"))||[]}function C(){const t=[{id:"bard-embed",url:"https://bard.google.com/",title:"Bard"},{id:"habla-embed",url:"https://habla.news/",title:"Habla"},{id:"perplexity-embed",url:"https://www.perplexity.ai/",title:"Perplexity"},{id:"archive-embed",url:"https://archive.org/",title:"Archive"},{id:"nostrbuild-embed",url:"https://nostr.build/",title:"Nostr.Build"},{id:"nostrband-embed",url:"https://nostr.band/",title:"Nostr.Band"},{id:"nostrudel-embed",url:"https://nostrudel.ninja/",title:"noStrudel"},{id:"satellite-embed",url:"https://satellite.earth/",title:"Satellite"},{id:"stacker-embed",url:"https://stacker.news/",title:"Stacker"},{id:"oddbean-embed",url:"https://oddbean.com/",title:"Oddbean"},{title:"Brave",url:"https://search.brave.com/"},{title:"X",url:"https://twitter.com/"},{title:"Reddit",url:"https://www.reddit.com/"},{title:"Wormhole",url:"https://wormhole.app/"},{title:"GitHub",url:"https://github.com/"},{title:"Memo Ai",url:"https://www.recordergo.app/"},{title:"Wikipedia",url:"https://wikipedia.org/"},{title:"Shopstr",url:"https://shopstr.store/"},{title:"UnleashedChat ",url:"https://unleashed.chat/"},{title:"ProtonMail",url:"https://mail.proton.me/"},{title:"NostrApps",url:"https://nostrapp.link/"},{title:"Rumble",url:"https://rumble.com/"},{title:"BlueSky",url:"https://bsky.app/"},{title:"Coracle",url:"https://coracle.social/"},{title:"CallOfWar",url:"https://www.callofwar.com/"},{title:"Snort",url:"https://Snort.social"},{title:"ShipYard",url:"https://shipyard.pub/"},{title:"Stream",url:"https://zap.stream/"}];return localStorage.setItem("links",JSON.stringify(t)),t}function E(t){t.sort((e,n)=>e.title.localeCompare(n.title))}lucide.createIcons();"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registered with scope:",t.scope)}).catch(t=>{console.error("Service Worker registration failed:",t)});window.matchMedia("(display-mode: fullscreen)").matches||window.matchMedia("(display-mode: standalone)").matches?document.getElementById("dialog").style.display="none":(document.getElementById("dialog").style.display="none",document.getElementById("overlay").style.display="none");
